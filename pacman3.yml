- name: Provision ec2 instances based on the environment
  hosts: all
  #connection: local
  gather_facts: True

  vars:
    fooble: "{{ ec2_id }}"
    original_tag: "{{ ec2_tag_application }}"

  tasks:
  - name: get variables
    debug: var=fooble 
  - name: get variables
    debug: var=original_tag
  - name Update tag
    ec2_tag:
    region: ap-southeast-2
    resource: "{{ fooble }}"
    state: present
    tags:
      Name: ubervol
      env: prod

